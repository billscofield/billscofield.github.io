android就是linux内核外加Java虚拟机

## 底包
1. 底包是官方某一个版本完整的rom,有的ROM类似增量的形式刷入，所以才要指定一个版本的官方ROM为基础刷入
1. 官方ROM = 内核 + 系统 + 基带 + 一大堆底层的东西
1. 魔趣ROM = 内核 + 系统
1. 官方ROM - 魔趣ROM = 基带 + 一大堆底层的东西 = 底包

总的来说ROM分三大类，
    1. 官方   
    1. 以官方为基础修改   
    1. 开源形式的ROM（类似aosp,cm）的

底包一般是刷机的基础包，这一说法算是被Moto引出来的，此前Moto的手机因为有bootloader锁存在，导致不能像其他手机一样直刷系统，所以用户往往会利用线刷的方式刷入底包，然后再利用卡刷的方式刷入ROM。

从定义上来看的话，底包就相当于一个纯净版或者内核版的系统包，是最底层的东西，扩展名为sbf。而从渠道来看，底包通常都是官方发布的，然后通常都是一些rom优化的大神下载来用。可以选择的版本不会太多，通常更新也不会太频繁。

而广大玩家制作的底包增强包，通常都表现为一个update.zip文件，可以看做是升级包的一种。升级包是对底包的扩展和增强，包含一系列的辅助工具和服务，早前没有中文的底包通过升级包可以实现中文显示，而现在来说，增强包一般都是为了使手机增加第三方的Recovery。



## 基带
官方的解释是：基带(Baseband)是手机中的一块电路，负责完成移动网络中无线信号的解调、解扰、解扩和解码工作，并将最终解码完成的数字信号传递给上层处理系统进行处理。

在我们的手机中通常由两大部分电路组成，一部分是高层处理部分，相当于我们使用的电脑;另一部分就是基带，这部分相当于我们使用的Modem，手机支持什么样的网络制式(GSM、CDMA、WCDMA、TD-SCDMA等)都是由它来决定的，就像ADSL Modem和普通窄带Modem的区别一样。

可见，基带其实就是手机里面一块负责各种手机信号处理的电路，用手机打电话、上网、发短信等等，都是通过上层处理系统下发指令(通常是标准AT指令)给基带部分，并由基带部分处理执行，基带部分完成处理后就会在手机和无线网络间建立起一条逻辑通道，我们的话音、短信或上网数据包都是通过这个逻辑通道传送出去的。

其实基带是最复杂的一部分不过只要把它理解为是一个射频的接收发送器然后还附带解码功能就好了。而我们刷机中遇到的刷基带，实际上，只是在硬件没有限制的情况下通过代码的微调进行改变基带的射频信号之类的。但是遇到硬件有要求的情况下，这种办法就不靠谱了。

## 固件
其实同我们常提到的ROM是一个含义，如果非要细分固件和ROM的区别的话，通常来说，
    ROM是指非官方的民间对手机操作系统的升级包，
    而固件往往是官方发布的手机OS升级包。
与底包不同，固件也虽然也是底包的**一种升级包**，但是这种升级包**主要针对的是系统的更新。**

现在大家常提到的手机刷机，实质上就是刷固件/ROM，固件/ROM就好比电脑装系统时所需的安装盘，刷机就是把固件/ROM刷入到手机的只读存储器中，达到更新手机系统的目的。效果相当于电脑重装操作系统，不同的是手机理论上是通过升级包来实现的。

这样举例说吧，比如说MIUI V5基于安卓4.4，那么这个刷机包它的底包就是安卓4.4，但是他的固件则是MIUI V5，大概就是这个意思了。


## 

我们平时刷第三方 ROM，实际上只是刷了 boot 和 system 两个分区（俗称内核和系统）。对于大多数手机来说，除了这两个分区，还包括了大家俗称的基带、Modem、TrustZone 等必不可少的分区。

这些分区的版本是需要和系统或内核里相关的驱动版本一致才可以正常工作。比方说，假如系统里的驱动更新了，而 TrustZone 没有更新，那么指纹传感器可能会不正常；Modem 版本不对，可能会没有网络。

ROM是统称，有时可以指bin文件，但大多数时候是指的system+data.
所以，我们解包ROM的时候能看到system和data目录

一般我们更换recover，用recover更新第三方的system


## bootloader
引导加载程序是系统加电后运行的第一段软件代码，称之为Bootloader。
BootLoader是Booter和Loader的合写：
    前者意味着要初始化嵌入式系统硬件使之运行起来，至少是部分运行起来，与PC机中的BIOS作用相似；
    后者意味着将嵌入式操作系统映像加载到内存中，并跳转过去运行。如PC机中MBR上的BootLoader
        PC机中的引导加载程序由BIOS(其本质就是一段固件程序)和位于硬盘MBR中的OS BootLoader（比如，LILO和GRUB等）一起组成。BIOS在完成硬件检测和资源分配后，将硬盘MBR中的BootLoader读到系统的RAM中，然后将控制权交给OS BootLoader。BootLoader的主要运行任务就是将内核映象从硬盘上读到 RAM 中，然后跳转到内核的入口点去运行，也即开始启动操作系统。

而在嵌入式系统中，通常并没有像BIOS那样的固件程序（注，有的嵌入式CPU也会内嵌一段短小的启动程序），因此整个系统的加载启动任务就完全由BootLoader来完成。比如在一个基于ARM7TDMI core的嵌入式系统中，系统在上电或复位时通常都从地址0x00000000处开始执行，而在这个地址处安排的通常就是系统的BootLoader程序

简单地说，BootLoader就是在操作系统内核运行之前运行的一段小程序。通过这段小程序，我们可以初始化硬件设备、建立内存空间的映射图，从而将系统的软硬件环境带到一个合适的状态，以便为最终调用操作系统内核准备好正确的环境。

　　通常，BootLoader是严重地依赖于硬件而实现的，特别是在嵌入式世界。因此，在嵌入式世界里建立一个通用的BootLoader几乎是不可能的。尽管如此，我们仍然可以对BootLoader归纳出一些通用的概念来，以指导用户特定的BootLoader设计与实现。

BootLoader既然要做硬件初始化之类的，必然和硬件相关，所以它的代码并非通用的，不同的硬件需要不同的BootLoader代码，各大厂商可能都有自己的，并且加入开机画面之类的。最常听说的是uboot和hboot，后者是htc的bootloader。我们常说的刷机，是不会动bootloader的，只会动这之后的系统部分。


参考链接
    1. https://blog.csdn.net/weibo1230123/article/details/82716818
    1. https://blog.csdn.net/qq_28779021/article/details/77099934


## system
现在的手机不仅陆陆续续的用上了bootloader锁，还对手机的system分区上了锁，导致爱搞机的小伙伴无法向system分区里拷贝任何文件，即使幸运拷贝进去了，重启手机，拷贝进去的东西也被清理得干干净净。

## fastboot
Fastboot，英语翻译意思是快速启动。在安卓手机中fastboot是一种比recovery更底层的刷机模式（俗称引导模式）。就是使用USB数据线连接手机的一种刷机模式。相对于某些系统（如iOS）卡刷来说，线刷更可靠，安全。


参考链接
    1. https://blog.csdn.net/qq_28779021/article/details/77099934
    1. http://www.cnblogs.com/shangdawei/p/4356679.html


## 

有些人可能听说过一种说法，叫“刷内核”，那么问题来了，为什么要刷内核呢?
    有时我们只为手机刷入ROM还是不够的，因为这些ROM当中的内核可能并不具备某些功能。有时我们需要实现CPU超频或实现双击唤醒，这就需要刷入具有相应功能的内核，以使操作系统和手机硬件顺利地沟通。有时如果你的手机出现了发热或者耗电的情况，那么刷入一个具有更加良好的电源管理能力的内核也是很好的办法。需要注意的是，内核要和自己手机的ROM相对应，如果刷了不合适的内核，则可能造成手机无法正常启动。





## Xposed
Xposed框架是一款可以在不修改APK的情况下影响程序运行(修改系统)的框架服务，基于它可以制作出许多功能强大的模块，且在功能不冲突的情况下同时运作。

Per APP Setting(为每个应用设置单独的dpi或修改权限)、XPrivacy(防止隐私泄露)、对原生Launcher替换图标等应用或功能均基于此框架


链接
    1. https://blog.csdn.net/coder_pig/article/details/80031285



## 分区
Android 通常有以下分区：
System分区: 就是我们刷ROM的分区
Data分区:   分区就是我们装APK的分区
Catch分区：是缓存分区
SDCard分区：就是挂载的SD卡。

可以在adb中使用df 来查看分区情况。

链接
    1. https://www.cnblogs.com/airoot/p/4131891.html



## 
Android的五层架构从上到下依次是：
    1. 应用层
    1. 应用框架层
    1. 库层
    1. 运行时层
    1. Linux内核层。



链接
    1. https://www.cnblogs.com/zyanrong/p/5661114.html
    1. https://blog.csdn.net/kai_zone/article/details/80472495


## OTA
OTA英文全称是Over-the-Air Technology，即空间下载技术的意思。 OTA升级是Android系统提供的标准软件升级方式。它功能强大，可以无损失升级系统，主要通过网络[例如WIFI、3G]自动下载OTA升级包、自动升级，但是也支持通过下载OTA升级包到SD卡升级 OTA的升级包非常的小，一般几M到十几M，如果你用网络升级，非常的方便，基本是在系统上点击几下就完成了升级，并且最重要的是，OTA升级无需备份数据，短短几分钟就搞定所有升级工作，所有数据都会完好无损的保留下来。



挖煤模式
    早期三星手机Galaxy S（I9000）时代，刷机模式进入后会看到一个黄色三角形，内部有一个Android机器人挖煤的图标，该模式下能够连接电脑，使用ODIN工具进行刷机，如今我们叫该模式为刷机模式，如今三星已经将刷机模式的图标改变成绿色Android机器人，但是还是有以往的老用户一直称之为“挖煤模式”。
    https://www.romzhijia.net/shuaji/12630.html
